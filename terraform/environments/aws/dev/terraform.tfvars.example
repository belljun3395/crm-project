aws_region  = "ap-northeast-2"
environment = "dev"
project     = "crm"
cluster_name = "crm-dev"

# Adjust CIDR ranges if they overlap with existing networks.
vpc_cidr             = "10.10.0.0/16"
availability_zones   = ["ap-northeast-2a", "ap-northeast-2c"]
public_subnet_cidrs  = ["10.10.0.0/24", "10.10.1.0/24"]
private_subnet_cidrs = ["10.10.10.0/24", "10.10.11.0/24"]

enable_nat_gateway = true

cluster_public_access_cidrs = ["0.0.0.0/0"]
cluster_enabled_log_types   = ["api", "audit", "authenticator"]

node_group_instance_types   = ["t3.medium"]
node_group_desired_capacity = 2
node_group_min_size         = 1
node_group_max_size         = 3
node_group_capacity_type    = "ON_DEMAND"

ecr_repository_name = "crm-app"

app_env = {
  DATABASE_URL            = "REPLACE_WITH_R2DBC_URL"
  DATABASE_USERNAME       = "REPLACE_WITH_DB_USERNAME"
  DATABASE_PASSWORD       = "REPLACE_WITH_DB_PASSWORD"
  REDIS_HOST              = "REPLACE_WITH_REDIS_ENDPOINT"
  REDIS_MAX_REDIRECTS     = "3"
  REDIS_PASSWORD          = "REPLACE_WITH_REDIS_PASSWORD"
  REDIS_NODES             = "node1:7001,node2:7002,node3:7003"
  MAIL_USERNAME           = "REPLACE_WITH_SMTP_USER"
  MAIL_PASSWORD           = "REPLACE_WITH_SMTP_PASSWORD"
  AWS_ACCESS_KEY          = "REPLACE_WITH_APP_AWS_ACCESS_KEY"
  AWS_SECRET_KEY          = "REPLACE_WITH_APP_AWS_SECRET_KEY"
  AWS_CONFIGURATION_SET   = "REPLACE_WITH_SES_CONFIGURATION_SET"
  AWS_SCHEDULE_ROLE_ARN   = "arn:aws:iam::123456789012:role/replace-with-schedule-role"
  AWS_SCHEDULE_SQS_ARN    = "arn:aws:sqs:ap-northeast-2:123456789012:replace-with-schedule-queue"
  AWS_SCHEDULE_GROUP_NAME = "replace-with-schedule-group"
  KAFKA_BOOTSTRAP_SERVERS = "broker1:9092,broker2:9092"
  SCHEDULER_PROVIDER      = "aws"
}

# Optional overrides
# secrets_manager_secret_name            = "crm/dev/application"
# secrets_manager_description            = "CRM dev runtime configuration"
# secrets_manager_kms_key_id             = "arn:aws:kms:ap-northeast-2:123456789012:key/..."
# secrets_manager_recovery_window_in_days = 7

# Optional: merge extra key/value pairs into the secret JSON
# additional_secret_values = {
#   EXTRA_CONFIG = "value"
# }
